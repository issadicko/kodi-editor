<div class="demo-container" [class.light]="theme === 'kodi-light'">
  <header class="demo-header">
    <div class="header-content">
      <h1>ğŸš€ KodiScript Editor</h1>
      <p class="subtitle">A modern code editor for KodiScript language</p>
    </div>
    <div class="header-actions">
      <button class="btn btn-secondary" (click)="toggleTheme()">
        {{ theme === 'kodi-dark' ? 'â˜€ï¸ Light' : 'ğŸŒ™ Dark' }}
      </button>
      <button class="btn btn-outline" (click)="clearCode()">
        Clear
      </button>
    </div>
  </header>

  <main class="demo-main">
    <div class="editor-section">
      <div class="section-header">
        <span class="badge">Editor</span>
        <span class="char-count">{{ code.length }} chars</span>
      </div>

      <kodi-editor [(ngModel)]="code" [theme]="theme" [height]="'500px'" [options]="{ minimap: true, fontSize: 14 }"
        (validationErrors)="onValidationErrors($event)">
      </kodi-editor>

      <div class="status-bar">
        <div class="status-left">
          @if (errors.length > 0) {
          <span class="status-error">
            <span class="error-dot"></span> {{ errors.length }} Error(s)
          </span>
          } @else {
          <span class="status-ok">
            <span class="ok-dot"></span> Ready
          </span>
          }
        </div>
        <div class="status-right">
          <span class="status-item">{{ code.length }} chars</span>
          <span class="status-item">KodiScript</span>
          <span class="status-item">SDK v0.1.1</span>
        </div>
      </div>
    </div>

    <aside class="sidebar">
      <div class="panel errors-panel">
        <h3>
          ğŸ“‹ Diagnostics
          <span class="count" [class.has-errors]="errors.length > 0">
            {{ errors.length }}
          </span>
        </h3>

        @if (errors.length === 0) {
        <div class="no-errors">
          âœ… No issues found
        </div>
        } @else {
        <ul class="error-list">
          @for (error of errors; track error) {
          <li class="error-item" [class]="error.severity">
            <span class="error-location">Line {{ error.line }}</span>
            <span class="error-message">{{ error.message }}</span>
            <span class="error-badge">{{ error.severity }}</span>
          </li>
          }
        </ul>
        }
      </div>

      <div class="panel features-panel">
        <h3>âœ¨ Features</h3>
        <ul class="feature-list">
          <li>ğŸ¨ Syntax Highlighting</li>
          <li>âœ… Real-time Validation</li>
          <li>ğŸ’¡ Autocompletion</li>
          <li>ğŸ“– Hover Documentation</li>
          <li>ğŸŒ“ Dark/Light Themes</li>
          <li>ğŸ“ ngModel Support</li>
        </ul>
      </div>
    </aside>
  </main>

  <footer class="demo-footer">
    <p>Built with <strong>Monaco Editor</strong> + <strong>Angular</strong></p>
  </footer>
</div>